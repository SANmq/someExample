<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js收官题</title>
</head>

<body>
    <section>
        <h1>选择题</h1>
        <ol>
            <li>
                <p class="question">
                    哪个是DOM独有的对象
                </p>
                <p class="answer">
                    <label>
                        <input type="radio" name="1">
                        <span>A.History</span>
                    </label>
                    <label>
                        <input type="radio" name="1">
                        <span>B.Screen</span>
                    </label>
                    <label>
                        <input type="radio" name="1" checked=checked>
                        <span>C.Document</span>
                    </label>
                    <label>
                        <input type="radio" name="1">
                        <span>D.Location</span>
                    </label>
                </p>
            </li>
            <li>
                <p class="question">
                    Location上的哪个属性更改不会刷新页面
                </p>
                <p class="answer">
                    <label>
                        <input type="radio" name="2">
                        <span>A.href</span>
                    </label>
                    <label>
                        <input type="radio" name="2">
                        <span>B.search</span>
                    </label>
                    <label>
                        <input type="radio" name="2">
                        <span>C.host</span>
                    </label>
                    <label>
                        <input type="radio" name="2" checked=checked>
                        <span>D.hash</span>
                    </label>
                </p>
            </li>
            <li>
                <p class="question">
                    以下哪个方法没有对数组进行遍历操作
                </p>
                <p class="answer">
                    <label>
                        <input type="radio" name="3">
                        <span>A.Reduce</span>
                    </label>
                    <label>
                        <input type="radio" name="3">
                        <span>B.Map</span>
                    </label>
                    <label>
                        <input type="radio" name="3">
                        <span>C.Sort</span>
                    </label>
                    <label>
                        <input type="radio" name="3" checked=checked>
                        <span>D.Pop</span>
                    </label>
                </p>
            </li>
            <li>
                <p class="question">
                    userAgent属性不包含下列哪种信息
                </p>
                <p class="answer">
                    <label>
                        <input type="radio" name="4">
                        <span>A.浏览器渲染引擎</span>
                    </label>
                    <label>
                        <input type="radio" name="4" checked=checked>
                        <span>B.设备分辨率</span>
                    </label>
                    <label>
                        <input type="radio" name="4">
                        <span>C.操作系统</span>
                    </label>
                    <label>
                        <input type="radio" name="4">
                        <span>D.浏览器版本</span>
                    </label>
                </p>
            </li>
            <li>
                <p class="question">
                    在js中获取div标签对应的Dom对象oDiv, 执行oDiv.class = "duyi"，div标签上会出现
                </p>
                <p class="answer">
                    <label>
                        <input type="radio" name="5">
                        <span>A.class="duyi"</span>
                    </label>
                    <label>
                        <input type="radio" name="5">
                        <span>B.className="duyi"</span>
                    </label>
                    <label>
                        <input type="radio" name="5" checked=checked>
                        <span>C.空</span>
                    </label>
                    <label>
                        <input type="radio" name="5">
                        <span>D.class=""</span>
                    </label>
                </p>
            </li>
        </ol>
    </section>
    <section>
        <h1>
            填空题
        </h1>
        <ol>
            <li>
                <p>DOM中文名称为文档对象模型，是js操作文档的中介，BOM中文名称为
                    <u>&nbsp;浏览器对象模型&nbsp;</u>，是js操作<u>&nbsp;浏览器&nbsp;</u>。</p>
            </li>
            <li>
                <p>History可以通过 <u>&nbsp;go&nbsp;</u>方法进行页面回退2步操作。</p>
            </li>
            <li>
                <p>Label标签通过<u>&nbsp;for&nbsp;</u>属性和其他标签进行关联。</p>
            </li>
            <li>
                <p>数组ForEach和普通的for循环哪个遍历效率更高<u>&nbsp;for&nbsp;</u>。</p>
            </li>
            <li>
                <p>
                    模拟重力场的课中是通过<u>&nbsp;if (iSpeedX == 0 && iSpeedY == 0 && newTop ==
                        document.documentElement.clientHeight - dom.clientHeight)&nbsp;</u>公式判断该物体正好运动到浏览器底部。</p>
            </li>
        </ol>
    </section>
    <section>
        <h1>大题</h1>
        <ol>
            <li>
                <p>定义数组：var arr = [{name: 'cst', age: '18'}, {name: 'jc', age: '20'}, {name: 'dxm', age: '50'} , {name:
                    'dcg', age: '30'}]。利用filter和map对数组进行操作：留下name中包含c的，并且让他们的年龄都加上自身大小。</p>
                <script>
                    var arr = [{
                        name: 'cst',
                        age: '18'
                    }, {
                        name: 'jc',
                        age: '20'
                    }, {
                        name: 'dxm',
                        age: '50'
                    }, {
                        name: 'dcg',
                        age: '30'
                    }]
                    var reg = /c/ig
                    arr = arr.filter(function (e) {
                        return reg.test(e.name)
                    })
                    arr = arr.map(function (e) {
                        e.age = e.age * 2
                        return e;
                    })
                </script>
                <pre>
                    var arr = [{
                        name: 'cst',
                        age: '18'
                    }, {
                        name: 'jc',
                        age: '20'
                    }, {
                        name: 'dxm',
                        age: '50'
                    }, {
                        name: 'dcg',
                        age: '30'
                    }]
                    var reg = /c/ig
                    arr = arr.filter(function (e) {
                        return reg.test(e.name)
                    })
                    arr = arr.map(function (e) {
                        e.age *= 2
                        return e;
                    })
                </pre>
            </li>
            <li>
                <p>用你能想到较好的，且通用方式把浏览器输入框上的网址（如：https://www.baidu.com/s?ie=utf-8&f=8>）按协议：https
                    主机：<u>www.baidu.com</u>路径：/s
                    参数：ie=utf-8&f=8划分并创建对象。 此对象属性和属性值形式如右：{protocol: 'https', host：'www.baidu.com', path: '/s', search:
                    {ie:'utf-8',f:'8'}};</p>
                <script>
                    var obj = {
                        protocol: location.protocol,
                        host: location.host,
                        path: location.pathname,
                        search: location.search
                    }
                </script>
                <pre>
                    var obj = {
                        protocol: location.protocol,
                        host: location.host,
                        path: location.pathname,
                        search: location.search
                    }
                </pre>
            </li>
            <li>
                <p>实现一个getDom(str)函数，可以根据参数（str形式如：'#id'、'.Class'、'tag'）的不同选择对应选择不同的dom。
                    注：1.'#id'此参数为根据id名称选择dom，.Class此参数为根据类名选择dom，'tag'此参数为根据标签名称获取dom。
                    2.不能使用原生的getElementsByClassName方法
                </p>
                <pre>
                    function getDom(str) {
                        if (str) {
                            let elements = [];
                            for (let i = 0; i < document.body.children.length; i++) {
                                elements.push(document.body.children[i])
                            }
                            let target = [];
                            while (elements.length) {
                                let ele = elements.shift()
                                if (ele.children.length) {
                                    elements.push(ele.children);
                                };
                                if (/^\./.test(str)) {
                                    if (ele.className) {
                                        let temp = ele.className.trim().replace(/\s+/g, " ").split(" ");
                                        for (let j = 0; j < temp.length; j++) {
                                            if (temp[j] === str.replace(".", "")) {
                                                target.push(ele);
                                            }
                                        }
                                    }
                                } else if (/^#/.test(str)) {
                                    if (ele.id === str.replace("#", "")) {
                                        return ele;
                                    }
                                } else if (/^[A-z]/.test(str)) {
                                    if (ele.tagName == str.toUpperCase()) {
                                        target.push(ele);
                                    }
                                }
                            }
                            return target
                        } else {
                            return null;
                        }
                    }
                </pre>
            </li>
            <li>
                <p>请尝试写出缓冲运动的效果。</p>
                <div id="ground" style="width: 800px;height: 200px;background-color: burlywood;position: relative;">

                    <div class="obj"
                        style="width: 100px;height: 100px;background-color: black;
                    position: absolute;color: white;text-align: center;line-height: 100px;user-select: none;cursor: pointer;">点击
                    </div>
                </div>
            </li>
            <li>
                <p>请用伪代码（用中文分步描述逻辑）写出轮播图的制作思路。</p>
                <p>
                    <a href="https://sanmq.github.io/loopview/index.html">轮播图链接（可能还有些bug，待优化）</a>
                    <pre>
                        1、确定轮播图片大小，设置播放容器，容器设置溢出隐藏，并且设置为定位元素。
                        2、在播放容器内设置轮播画布，横向拼接轮播图片，如果要制作左右无缝轮播，需要首尾各多拼接尾首图片。
                        （以下无缝轮播图）
                        3、设置播放画布为绝对定位元素，再设置每移动一张图片的移动定时器，
                        4、移动定时器接受移动目标位置，根据缓冲运动方案生成运动方式。
                        5、如果运动目标超出首尾边界，则判断是将元素位置移动回首尾位置。
                        6、当运动至目标的时候清除该定时器
                        7、设置自动播放定时器，每次默认向右移动一张图片
                        8、可根据需求设置一些事件。如：鼠标进入轮播图后停止自动播放；可以设置左右键
                        在点击是手动移动一张图片，等等。
                    </pre>
                </p>
            </li>
        </ol>
    </section>


    <script>
        function getDom(str) {
            let s = str.trim()
            if (s) {
                let ele = null,
                    elements = [document.body];
                let target = [];
                while (elements.length) {
                    ele = elements.shift()
                    if (ele.children.length) {
                        for (let i = 0; i < ele.children.length; i++) {
                            elements.push(ele.children[i]);
                        }
                    };
                    // 如果开头有.
                    if (/^\./.test(s)) {
                        if (ele.className.trim()) {
                            let temp = ele.className.trim().replace(/\s+/g, " ").split(" ");
                            for (let j = 0; j < temp.length; j++) {
                                if (temp[j] === s.replace(".", "")) {
                                    target.push(ele);
                                }
                            }
                        }
                    } else if (/^#/.test(s)) {
                        if (ele.id === s.replace("#", "")) {
                            return ele;
                        }
                    } else if (/^[A-z]/.test(s)) {
                        if (ele.tagName == s.toUpperCase()) {
                            target.push(ele);
                        }
                    }
                }
                return target
            } else {
                return null;
            }
        }
    </script>

    <script>
        var ground = document.getElementById("ground"),
            obj = ground.getElementsByTagName("div")[0];
        obj.onclick = function () {
            clearInterval(this.timer)
            let iSpeedX = null,
                objStyle = getComputedStyle(obj),
                target = 700,
                self = this;
            this.timer = setInterval(function () {
                let icur = parseInt(objStyle.left);
                iSpeedX = (target - icur) / 9;
                self.style.left = icur + iSpeedX + "px";
                if (iSpeedX < 1) {
                    self.style.left = target + "px";
                    clearInterval(self.timer)
                }
            }, 30)
        }
    </script>
</body>

</html>